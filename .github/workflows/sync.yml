name: Auto Sync Monitor  # å·¥ä½œæµåç§°

on:
  push:
    branches: [ "main" ]  # ä»…ç›‘æ§mainåˆ†æ”¯çš„æ¨é€

jobs:
  notify:
    runs-on: ubuntu-latest  # ä½¿ç”¨GitHubçš„Linuxè™šæ‹Ÿæœº

    steps:
    - name: Checkout code
      uses: actions/checkout@v3  # å®˜æ–¹æ£€å‡ºä»£ç åŠ¨ä½œ

    - name: Show commit info
      run: |
        echo "ğŸ”„ æœ€æ–°æäº¤è¯¦æƒ…ï¼š"
        echo "æäº¤è€…: ${{ github.actor }}"
        echo "æ—¶é—´: $(date)"
        echo "å˜æ›´è®°å½•:"
        git show --name-status
        echo "ğŸ”— æ°¸ä¹…é“¾æ¥ï¼š"
        echo "https://github.com/${{ github.repository }}/commit/${{ github.sha }}"

    - name: Send notification
      if: success()
      run: |
        echo "âœ… ä»“åº“åŒæ­¥å®Œæˆï¼"
        # å¯æ‰©å±•ï¼šæ·»åŠ é‚®ä»¶/é’‰é’‰/Slacké€šçŸ¥ï¼ˆéœ€é…ç½®tokenï¼‰